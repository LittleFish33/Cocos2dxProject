# Cocos2dxProject Cocos2dx 期末项目

## 一 、项目分工和占比

### （一）大致要求

| 任务                           | 占比            | 完成人员                   | 时间      |
| ------------------------------ | --------------- | -------------------------- | --------- |
| 本文档的编写                   | 1%              | 邱晓裕                     |           |
| 建立整个项目基本的类文件和框架 | 15%             |   邱晓裕                         | 6/16-6/18 |
| 第一个精灵                     | 14%             | 邵梓硕                           | 6/19-6/23 |
| 美化界面 + 音乐                | 13%             | 邱奕浩                           | 6/24-6/28 |
| 其他精灵的制作                 | 15%（每人占5%） | 邱奕浩，邱晓裕，王建豪 | 6/24-6/28 |
| 合并代码                       | 6%              | 邵梓硕                           | 6/29-7/1  |
| 双人对战                       | 7%              | 王建豪                           | 7/1-7/4   |
| 设置排行榜                     | 7%              |  王建豪                          | 7/4-7/8   |
| 定期刷怪                       | 4%              |  邱奕浩                          | 6/24-6/28 |


* 关于时间的安排，其实可以互相协调然后提早开始的：比如说设置排行榜的人，可以先找双人对战的人提供得到分数的接口，然后就可以先写啦；再比如说做第一个精灵的人，可以现在就可以找素材了啊，啦啦啦。
* 顺带一提，也可以合作完成，自己协调你们合作的部分的占比就行
* 下面的是附加功能，炫技项啊啊啊，这个就自告奋勇吧，要写的自己写进去

| 功能                                     | 占比 | 完成人员|
| ---------------------------------------- | ---- |----|
| 伪智能实现人机互打（至少要看起来智能点） | 6%   |  |
| 联网对战（666）                          | 7%   | |
| 场景的移动                               | 5%   | |

* 场景移动：就是一个大场景嘛，角色移动的时候角色一直都是处在屏幕的中心，双人对打可能用不了，可是人机互打和联网对战还是可以用的嘛
* 如果到最后附加功能没时间写的话，就按比例分配给基本要求

### （二）详细要求

#### 1. 建立整个项目基本的类文件和框架

这个阶段需要建立基本的类文件，包括但不限于：WelcomeScene，MenuScene，GameScene，PlayerSprite，ShareInstance，DatabaseInstance：

| 文件             | 要求                                                         |
| ---------------- | ------------------------------------------------------------ |
| WelcomeScene     | 欢迎界面，游戏打开时进入的界面，包括退出和开始游戏的按钮，实现跳转功能 |
| MenuScene        | 进入游戏之前的菜单界面，选择游戏的角色和场景，需要有一个地方可以显示游戏角色（player1 和 player2）的图片和场景的图片（图片内容暂时可以随便绑定），可以进行选择，还有一个按钮跳转到GameScene和一个按钮返回到WelcomeScene |
| GameScene        | 游戏界面，这里需要使用到这周用到的物理引擎；同时实现基本逻辑，大致是这样的，比如说我们键盘输入“W”，就要在这个类的函数里触发PlayerSprite的moveUp事件，【而不是像之前的作业一样直接把moveUp的代码放在GameScene类里，这样创建精灵的人也可以只负责写自己的Sprite，如spidermanSprite的逻辑函数，而不需要看GameScene的代码】，包括但不限于响应玩家操作：WAD（玩家一），↑，←，→（玩家二），近攻，远攻，这些将触发PlayerSprite的对应事件；同时还需要有一个按钮是否停止游戏；同时还有两个血条绑定PlayerSprite的hp和两个能量条绑定PlayerSprite的mp（用homework3的内容应该不难吧） |
| PlayerSprite     | 一个所有游戏角色需要继承的基类，需要写出上面的对应相应函数：左右移动，上跳，近攻，远攻，被攻击，死亡的空函数，还需要有下面的成员变量：speed（移动速度），damage（造成的伤害），hp，mp，同样需要使用这周的知识点 |
| ShareInstance    | 共享的单例类，主要用于保存一些跳转的时候需要传递的值，建立一个空的单例类即可 |
| DatabaseInstance | 数据库单例类，保存游戏记录之类的，同理建立一个空的单例类即可 |

需要注意到的，这个阶段主要的任务是建立基本的框架，即某个界面需要什么控件，你只需要添加对应的控件，最重要的是把上面说的逻辑写好了，即点击某个控件将触发什么事件和页面跳转；然后下面美化界面的人只需要替换素材，排版一下就可以使整个游戏界面变的漂亮了，所以你不需要在意自己在这里做的界面好不好看。

* 完成后需要实现的功能：
  * 启动程序，进入WelcomeScene界面，点击开始游戏，进入MenuScene；点击结束游戏，结束程序；
  * 上面进入MenuScene之后，可以选择玩家和场景（静态，选择了没卵用），点击确定进入GameScene，点击返回回到WelcomeScene
  * 上面进入GameScene之后，点击WASD，↑，←，→，J（近攻），K（远攻），会对应触发PlayerSprite的空函数（可以在空函数中添加CCLOG判断是否成功触发）；你要测试过确保物理引擎工作正常；还有一个角色的死亡后出现gameOver；还有有个东西，跳上去可以站在上面（不知道的自己去4399玩一次数码宝贝）
  * 两个单例类能正常使用

#### 2. 第一个精灵

万事开头难，所以我们需要有一个人添加第一个精灵，然后其他的人在这个人的代码上再建立自己的精灵类即可；这个类需要继承PlayerSprite类，下面是精灵的事件，包括但不限于：

* 近攻，远攻
* 左右移动，向上跳（跳完之后掉下来）
* 被攻击
* 死亡

需要注意的是因为后面的精灵都是在这个的基础上完成的，所以这个类的实现请用心点，可以添加更多炫技的东西，๑乛◡乛๑：冲刺，闪避，蓄力，大招。。。。。。

为了确保你这部分的功能是健全的，用自己建好的两个对象互打吧。

#### 3. 美化界面 + 音乐

如果第一个阶段的人代码完成的比较好的话，这一阶段的人主要的任务就是替换素材和添加场景图片之类的操作了，相对而言是不是相当简单啊，反正我不做。
顺带一提，美化界面包括整个项目阶段的界面美化和音乐。

#### 4. 其他精灵的制作

除了制作第一个精灵的人，其他的每个人至少还需要在第一个精灵的基础在进行修改，做一个自己精灵，相信已经有了第一份代码，这里应该不是很难吧。

#### 5. 合并代码

好了，有了上面的代码内容，我们就需要合并代码了，合并代码后需要实现：

- 启动程序，进入WelcomeScene界面，点击开始游戏，进入MenuScene；点击结束游戏，结束程序；
- 上面进入MenuScene之后，可以选择玩家和场景（这次真的可以选哦），点击确定进入GameScene，点击返回回到WelcomeScene
- 上面进入GameScene之后，点击WASD，↑，←，→，J（近攻），K（远攻），会对应触发PlayerSprite的对应函数，动画帧会对应的显示，但是碰撞还是没有响应的。
- 两个单例类能正常使用

#### 6. 双人对打 

现在就要实现整个游戏的最重要的功能了；你需要在前面的合并好的代码上，完成两个角色对打的功能；上面应该已经基本完成了这部分需要使用的函数，这里要做的也就是碰撞的时候调用对应的函数，应该不是很难吧。。。。

暂时的要求：
* 死亡的死后结束游戏；
* 还有计算两个玩家的得分；
* 倒计时；
* 其他一些基本的逻辑，比如说如果两个人站的很近互相攻击，手慢的只能被打，不能两个同时都在攻击对方吧。


#### 7. 设置排行榜

终于啊，我们的之前建立的数据库类可以用了，之前还一直是一个空的单例类呢，现在可以保存了，至于排行榜怎么实现，自己定吧。

#### 8. 定期刷怪

定期刷一些怪出来，可以打升mp啊，这个怪傻逼一点也没关系的，红蓝buf

## （三）代码和注释规范

这次请在指定时间完成代码的时候同时添加注释，代码注释要求请参考：

[手把手教你写_“华为”_的标准注释与文档，以及代码规范](https://blog.csdn.net/zheng_guan/article/details/53248377)
